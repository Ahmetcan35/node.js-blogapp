<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head') %>
</head>
<body>
    
<%- include('../partials/nav') %>

    <div class="container mt-3">
        <div class="row">
            <div class="col-md-12 mt-3">
                <form   method="post" enctype="multipart/form-data">
                    <input type="hidden" name="blogid" value="<%= blog.id %>">
                    <input type="hidden" name="resim" value="<%= blog.resim %>">
                    <div class="row mb-3">
                        <label for="baslik" class="col-sm-2 col-form-label">Başlık</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="baslik" name="baslik" value="<%=blog.blogtitle  %>">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label for="altbaslik" class="col-sm-2 col-form-label">Alt Başlık</label>
                        <div class="col-sm-8">
                            <textarea name="altbaslik"  class="form-control" rows="5"><%=blog.altbaslik  %>
                            </textarea>
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <label for="aciklama" class="col-sm-2 col-form-label">Açıklama</label>
                        <div class="col-sm-8">
                            <textarea name="aciklama" id="editor"  class="form-control" rows="10"><%= blog.blogdetail %></textarea>
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <label for="resim" class="col-sm-2 col-form-label">Resim</label>
                        <div class="col-sm-8">
                            <img src="/static/images/<%= blog.resim %>" alt="" style="width: 120px;">
                            <input type="file" class="form-control" id="resim" name="resim" value="<%=blog.resim  %>">
                        </div>
                        
                    </div>
                    <div class="row mb-3">
                        <label for="kategori" class="col-sm-2 col-form-label">Kategori</label>
                        <div class="col-sm-8">
                            <select name="kategori" id="kategori" class="form-control">
                                <option value="-1"  selected>Seçiniz</option>
                                <% categories.forEach(category => { %>
                                 <option value="<%= category.dataValues.id %>"><%= category.dataValues.categoryname %></option>
                                <% }) %>
                            <script>
                                document.querySelector("#kategori").value = "<%= blog.categoryId %>";
                            </script>
                            </select>
                            
                        </div>
                        
                    </div>
                    <div class="row mb-3">
                        <div class="col-sm-8 offset-sm-2">
                            <div class="form-check">
                                <input class="form-check-input col-sm-2" type="checkbox" id="anasayfa" name="anasayfa" <%= blog.anasayfa? "checked":"" %>/>
                                <label class="form-check-label col-sm-8" for="anasayfa">
                                 Anasayfa
                                </label>
                              </div>
                        </div>
                        
                    </div>
                    <div class="row mb-3">
                        <div class="col-sm-8 offset-sm-2">
                            <div class="form-check">
                                <input class="form-check-input col-sm-2" type="checkbox" id="onay" name="onay" <%= blog.onay? "checked":"" %>/>
                                <label class="form-check-label col-sm-8" for="onay">
                                 Onay
                                </label>
                              </div>
                        </div>
                        
                    </div>
                    <div class="row mb-3"></div>
                        <div class="col-sm-8 offset-sm-2">
                            <button type="submit" class="btn btn-primary">Kaydet</button>
                        </div>
                        
                    </div>
                
                </form>
            </div>
        </div>
        
    </div>  


    <link rel="stylesheet" href="https://cdn.ckeditor.com/ckeditor5/43.1.0/ckeditor5.css" />
    <script type="importmap">
        {
            "imports": {
                "ckeditor5": "https://cdn.ckeditor.com/ckeditor5/43.1.0/ckeditor5.js",
                "ckeditor5/": "https://cdn.ckeditor.com/ckeditor5/43.1.0/"
            }
        }
    </script>

    <script type="module">
        import {
            ClassicEditor,
            Essentials,
            Bold,
            Italic,
            Font,
            Paragraph
        } from 'ckeditor5';

        ClassicEditor
            .create( document.querySelector( '#editor' ), {
                plugins: [ Essentials, Bold, Italic, Font, Paragraph ],
                toolbar: [
                    'undo', 'redo', '|', 'bold', 'italic', '|',
                    'fontSize', 'fontFamily', 'fontColor', 'fontBackgroundColor'
                ]
            } )
            .then( /* ... */ )
            .catch( /* ... */ );
    </script>
</body>
</html>